/*
 * lea - version 1.1.0 - 2015-11-20
 * A tiny JavaScript framework for modern browsers (and developers)
 * Author: SÃ©bastien Decamme <sebastien.decamme@gmail.com>
 * Homepage: https://github.com/Shakup/lea.js
 */
!function(a,b){"function"==typeof define&&define.amd?define("lea",[],a):"object"==typeof exports?module.exports=a():b.Lea=b.$=a()}(function(){"use strict";var a=function(b,c){if(!(this instanceof a))return new a(b,c);var d=this;return void 0==c&&(c=window.document),this.elements=[],null==b?this:("array"!==a.type(b)&&(b=[b]),b.forEach(function(b){a.isNode(b)||b===window||b===document?d.elements.push(b):"string"===a.type(b)&&(d.elements=d.elements.concat(a.toArray(c.querySelectorAll(b))))}),this)};return a.version="1.1.0",a.addMethod=function(a,b){this.prototype[a]=b},a.ready=function(a){"loading"!=document.readyState?a():document.addEventListener("DOMContentLoaded",a)},a.extend=function(b){for(var b=b||{},c=1;c<arguments.length;c++)arguments[c]&&a.parse(arguments[c],function(a,c){b[a]=c});return b},a.toArray=function(a){return Array.prototype.slice.call(a,0)},a.type=function(a){return Object.prototype.toString.call(a).replace(/^\[object (.+)\]$/,"$1").toLowerCase()},a.isNode=function(a){return a instanceof HTMLElement},a.camelcase=function(a){return"-"==a.charAt(0)&&(a=a.slice(1)),a.replace(/-\D/g,function(a){return a.charAt(1).toUpperCase()})},a.dash=function(a){return a.replace(/[A-Z]/g,function(a){return"-"+a.charAt(0).toLowerCase()})},a.parse=function(a,b,c){for(var d in a)a.hasOwnProperty(d)&&b.call(c||a,d,a[d])},a.str2Node=function(b){if(a.isNode(b))return b;var c=document.createElement("div");return c.innerHTML=b,Array.prototype.slice.call(c.childNodes,0)},a.cookie={get:function(a){return a?decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(a).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null:null},set:function(a,b,c,d,e,f){if(!a||/^(?:expires|max\-age|path|domain|secure)$/i.test(a))return!1;var g="";if(c)switch(c.constructor){case Number:g=c===1/0?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+c;break;case String:g="; expires="+c;break;case Date:g="; expires="+c.toUTCString()}return document.cookie=encodeURIComponent(a)+"="+encodeURIComponent(b)+g+(e?"; domain="+e:"")+(d?"; path="+d:"")+(f?"; secure":""),!0},remove:function(a,b,c){return this.exists(a)?(document.cookie=encodeURIComponent(a)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(c?"; domain="+c:"")+(b?"; path="+b:""),!0):!1},exists:function(a){return a?new RegExp("(?:^|;\\s*)"+encodeURIComponent(a).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie):!1},keys:function(){for(var a=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),b=a.length,c=0;b>c;c++)a[c]=decodeURIComponent(a[c]);return a}},a.create=function(b,c){var d=document.createElement(b);return void 0!=c&&a.parse(c||{},function(b,c){switch(b.toLowerCase()){case"style":d=a(d).css(c).get(0);break;case"html":d.innerHTML=c;break;case"class":d.classList.add(c);break;case"event":a.parse(c,function(a,b){d.addEventListener(a,b,!1)});break;case"data":a.parse(c,function(a,b){d.dataset[a]=b});break;default:d.setAttribute(b,c)}}),d},a.device=function(a){var b=navigator.userAgent.toLowerCase(),c=function(){return/(ipad|tablet|(android(?!.*mobile))|(windows(?!.*phone)(.*touch))|kindle|playbook|silk|(puffin(?!.*(IP|AP|WP))))/.test(b)?"tablet":/(mobi|ipod|phone|blackberry|opera mini|fennec|minimo|symbian|psp|nintendo ds|archos|skyfire|puffin|blazer|bolt|gobrowser|iris|maemo|semc|teashark|uzard)/.test(b)?"phone":"desktop"}();return void 0!=a?c===a:c},a.isMobile=function(){return!a.device("desktop")},a.ajax=function(b,c){function d(b,c){var d=function(){}.bind(this),e=this;this.options=a.extend({method:"GET",always:d,then:d,"catch":d,send:!0,async:!0,data:{},withCredentials:!1,contentType:"application/x-www-form-urlencoded"},c||{}),this.transport=new XMLHttpRequest,this.options.method=this.options.method.toUpperCase(),this.parameters="",this.transport.onreadystatechange=function(){if(4==this.readyState)if(e.options.always.call(e,this),200==this.status||0===this.status){var a,b=this.getResponseHeader("Content-Type");a=b&&b.indexOf("application/json")>-1?JSON.parse(this.responseText):this.responseText,e.options.then.call(e,a,this)}else e.options["catch"].call(e,this)},this.transport.withCredentials=this.options.withCredentials,this.transport.open(this.options.method,b,this.options.async),this.transport.setRequestHeader("X-Requested-With","XMLHttpRequest"),"POST"==this.options.method&&(this.transport.setRequestHeader("Content-Type",this.options.contentType),a.parse(this.options.data,function(a,b){e.parameters.length&&(e.parameters+="&"),e.parameters+=encodeURIComponent(a)+"="+encodeURIComponent(b)})),this.options.send&&this.send()}return d.prototype={always:function(a){return this.options.always=a.bind(this),this},then:function(a){return this.options.then=a.bind(this),this},"catch":function(a){return this.options["catch"]=a.bind(this),this},send:function(){return this.transport.send(this.parameters.length?this.parameters:null),this},abort:function(){return this.transport.abort(),this}},new d(b,c)},a.get=function(b,c){return a.ajax(b,a.extend(c||{},{method:"GET"}))},a.post=function(b,c,d){return a.ajax(b,a.extend(d||{},{method:"POST",data:c||{}}))},a.debounce=function(a,b){var c;return function(){var d=arguments,e=this;clearTimeout(c),c=setTimeout(function(){a.apply(e,d)},b)}},a.throttle=function(a,b){var c,d;return function(){var e=this,f=+new Date,g=arguments;c&&c+b>f?(clearTimeout(d),d=setTimeout(function(){c=f,a.apply(e,g)},b)):(c=f,a.apply(e,g))}},a.prototype={hasElements:function(){return this.elements.length>0},each:function(a){var b,c=new Error("Break");return this.elements.forEach(function(d,e){if(b=a.call(d,d,e),b===!1)throw c}),this},get:function(a){return void 0!=a?this.elements[a]||null:this.elements},first:function(){return new a(this.hasElements()?this.get(0):[])},last:function(){return new a(this.hasElements()?this.get(this.elements.length-1):[])},css:function(b,c){return void 0!=c?(this.each(function(){this.style[a.camelcase(b)]=c}),this):"string"===a.type(b)?window.getComputedStyle(this.get(0),null)[a.dash(b)]:"object"===a.type(b)?(this.each(function(){var c=this;a.parse(b,function(b,d){c.style[a.camelcase(b)]=d})}),this):void 0},height:function(){var a=this.elements[0];return a==window?window.innerHeight:a==document?document.body.clientHeight:a.offsetHeight},width:function(){var a=this.elements[0];return a==window?window.innerWidth:a==document?document.body.clientWidth:a.offsetWidth},scroll:function(){var a=this.elements[0];return a==window?{top:a.scrollY,left:a.scrollX,width:document.body.scrollWidth,height:document.body.scrollHeight}:{top:a.scrollTop,left:a.scrollLeft,width:a.scrollWidth,height:a.scrollHeight}},val:function(a){return void 0!=a?(this.each(function(){this.value=a}),this):this.elements[0].value||""},addClass:function(a){return this.each(function(){this.classList.add(a)}),this},removeClass:function(a){return this.each(function(){this.classList.remove(a)}),this},hasClass:function(a){var b=!0;return this.elements.forEach(function(c){return c.classList.contains(a)?void 0:void(b=!1)}),b},toggleClass:function(a){return this.each(function(){this.classList.toggle(a)}),this},show:function(a){if(void 0==a)var a="block";return this.each(function(){this.style.display=a}),this},hide:function(){return this.each(function(){this.style.display="none"}),this},toggle:function(b){if(void 0==b)var b="block";return this.each(function(){this.style.display="none"==a(this).css("display")?b:"none"}),this},html:function(a){return void 0==a?this.get(0).innerHTML:(this.each(function(){this.innerHTML=a}),this)},on:function(a,b){var c=a.split(" ");return this.each(function(a){c.forEach(function(c){a.addEventListener(c,b,!1)})},!1),this},off:function(a,b){var c=a.split(" ");return this.each(function(a){c.forEach(function(c){a.removeEventListener(c,b,!1)})}),this},delegate:function(b,c,d){var e=c.split(" ");return this.each(function(c){e.forEach(function(e){c.addEventListener(e,function(c){a(c.target).is(b)&&d.call(c.target,e)},!1)})}),this},trigger:function(a){var b=document.createEvent("HTMLEvents");return b.initEvent(a,!0,!0),this.each(function(){this.dispatchEvent(b)}),this},click:function(a){return this.on("click",a)},attr:function(a,b){return void 0!=b?(this.each(function(){this.setAttribute(a,b)}),this):this.elements[0].getAttribute(a)},removeAttr:function(a){return this.each(function(){this.removeAttribute(a)}),this},data:function(a,b){return void 0!=b?(this.each(function(){this.dataset[a]=b}),this):this.get(0).dataset[a]},removeData:function(a){return this.each(function(){delete this.dataset[a]}),this},clone:function(){return this.elements[0].cloneNode(!0)},append:function(b){return this.each(function(c){if(a.isNode(b))c.appendChild(b);else{var d=a.str2Node(b);d.forEach(function(a){c.appendChild(a)})}}),this},prepend:function(b){return this.each(function(c){if(a.isNode(b))c.insertBefore(b,c.firstChild);else{var d=a.str2Node(b);d.forEach(function(a){c.insertBefore(a,c.firstChild)})}}),this},before:function(a){return this.each(function(){this.insertAdjacentHTML("beforebegin",a)}),this},after:function(a){return this.each(function(){this.insertAdjacentHTML("afterend",a)}),this},remove:function(){return this.each(function(){this.parentNode.removeChild(this)}),this},parent:function(){var b=[];return this.each(function(){var a=this.parentNode;a&&b.push(a)}),new a(b)},find:function(b){var c=[];return this.elements.forEach(function(d){c=c.concat(a.toArray(d.querySelectorAll(b)))}),new a(c)},prev:function(){var b=[];return this.each(function(){var a=this.previousElementSibling;a&&b.push(a)}),new a(b)},next:function(){var b=[];return this.each(function(){var a=this.nextElementSibling;a&&b.push(a)}),new a(b)},clear:function(){return this.each(function(){this.innerHTML=""}),this},is:function(a){var b=!0,c=function(b){return(b.matches||b.matchesSelector||b.msMatchesSelector||b.webkitMatchesSelector).call(b,a)};return this.each(function(){return b=c(this)}),b},offset:function(){if(!this.hasElements())return{top:0,left:0};var a=this.elements[0],b=a.getBoundingClientRect();return{top:b.top+document.body.scrollTop,left:b.left+document.body.scrollLeft}},position:function(){if(!this.hasElements())return{top:0,left:0};var a=this.elements[0].getBoundingClientRect();return{top:a.top,left:a.left}},replaceWith:function(a){return this.each(function(){this.outerHTML=a}),this},serialize:function(){var b,c,d=this.elements[0],e={};return"form"!==d.nodeName.toLowerCase()?e:(a.toArray(d.elements).forEach(function(a){if(a.name&&-1==["file","button","reset","submit"].indexOf(a.type))if("select-multiple"==a.type)for(b=d.elements[i].options.length,c=0;b>c;c++)a.options[c].selected&&(e[a.name]=a.options[c].value);else("checkbox"!=a.type&&"radio"!=a.type||a.checked)&&(e[a.name]=a.value)}),e)},submit:function(b){var c=this.elements[0];return"form"!==c.nodeName.toLowerCase()?!1:(b=a.extend({method:c.method||"GET",data:a(c).serialize()},b||{}),a.ajax(c.action||"#",b))}},console.info("Powered by lea.js v"+a.version),a},this);
//# sourceMappingURL=lea.js.map